{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\arvin\\\\Desktop\\\\foody-zone\\\\src\\\\context\\\\CartContext.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useReducer, useCallback } from 'react';\nimport { useLocalStorage } from '../hooks/useLocalStorage';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CartContext = /*#__PURE__*/createContext();\nconst cartReducer = (state, action) => {\n  switch (action.type) {\n    case 'ADD_TO_CART':\n      const existingItem = state.items.find(item => item.id === action.payload.id);\n      if (existingItem) {\n        return {\n          ...state,\n          items: state.items.map(item => item.id === action.payload.id ? {\n            ...item,\n            quantity: item.quantity + 1\n          } : item)\n        };\n      }\n      return {\n        ...state,\n        items: [...state.items, {\n          ...action.payload,\n          quantity: 1\n        }]\n      };\n    case 'REMOVE_FROM_CART':\n      return {\n        ...state,\n        items: state.items.filter(item => item.id !== action.payload)\n      };\n    case 'UPDATE_QUANTITY':\n      return {\n        ...state,\n        items: state.items.map(item => item.id === action.payload.id ? {\n          ...item,\n          quantity: action.payload.quantity\n        } : item)\n      };\n    case 'CLEAR_CART':\n      return {\n        ...state,\n        items: []\n      };\n    case 'APPLY_DISCOUNT':\n      return {\n        ...state,\n        discount: action.payload\n      };\n    case 'ADD_ORDER':\n      return {\n        ...state,\n        orders: [action.payload, ...state.orders],\n        items: []\n      };\n    default:\n      return state;\n  }\n};\nexport const CartProvider = ({\n  children\n}) => {\n  _s();\n  const [cartState, dispatch] = useReducer(cartReducer, {\n    items: [],\n    orders: [],\n    discount: 0\n  });\n  const {\n    setItem,\n    getItem\n  } = useLocalStorage();\n\n  // Persist cart to localStorage\n  React.useEffect(() => {\n    setItem('cart', cartState.items);\n    setItem('orders', cartState.orders);\n  }, [cartState.items, cartState.orders, setItem]);\n  const addToCart = useCallback(item => {\n    dispatch({\n      type: 'ADD_TO_CART',\n      payload: item\n    });\n  }, []);\n  const removeFromCart = useCallback(id => {\n    dispatch({\n      type: 'REMOVE_FROM_CART',\n      payload: id\n    });\n  }, []);\n  const updateQuantity = useCallback((id, quantity) => {\n    if (quantity < 1) {\n      removeFromCart(id);\n      return;\n    }\n    dispatch({\n      type: 'UPDATE_QUANTITY',\n      payload: {\n        id,\n        quantity\n      }\n    });\n  }, [removeFromCart]);\n  const clearCart = useCallback(() => {\n    dispatch({\n      type: 'CLEAR_CART'\n    });\n  }, []);\n  const applyDiscount = useCallback(discount => {\n    dispatch({\n      type: 'APPLY_DISCOUNT',\n      payload: discount\n    });\n  }, []);\n  const addOrder = useCallback(order => {\n    dispatch({\n      type: 'ADD_ORDER',\n      payload: order\n    });\n  }, []);\n  const getSubtotal = useCallback(() => {\n    return cartState.items.reduce((total, item) => total + item.finalPrice * item.quantity, 0);\n  }, [cartState.items]);\n  const getTotal = useCallback(() => {\n    const subtotal = getSubtotal();\n    const discountAmount = subtotal * cartState.discount / 100;\n    return subtotal - discountAmount;\n  }, [getSubtotal, cartState.discount]);\n  const getItemCount = useCallback(() => {\n    return cartState.items.reduce((total, item) => total + item.quantity, 0);\n  }, [cartState.items]);\n  const value = {\n    cart: cartState.items,\n    orders: cartState.orders,\n    discount: cartState.discount,\n    addToCart,\n    removeFromCart,\n    updateQuantity,\n    clearCart,\n    applyDiscount,\n    addOrder,\n    getSubtotal,\n    getTotal,\n    getItemCount\n  };\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 139,\n    columnNumber: 5\n  }, this);\n};\n_s(CartProvider, \"LNZANv8M2hoNsZkH2RJxu5XOXfs=\", false, function () {\n  return [useLocalStorage];\n});\n_c = CartProvider;\nexport const useCart = () => {\n  _s2();\n  const context = useContext(CartContext);\n  if (!context) {\n    throw new Error('useCart must be used within a CartProvider');\n  }\n  return context;\n};\n_s2(useCart, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nvar _c;\n$RefreshReg$(_c, \"CartProvider\");","map":{"version":3,"names":["React","createContext","useContext","useReducer","useCallback","useLocalStorage","jsxDEV","_jsxDEV","CartContext","cartReducer","state","action","type","existingItem","items","find","item","id","payload","map","quantity","filter","discount","orders","CartProvider","children","_s","cartState","dispatch","setItem","getItem","useEffect","addToCart","removeFromCart","updateQuantity","clearCart","applyDiscount","addOrder","order","getSubtotal","reduce","total","finalPrice","getTotal","subtotal","discountAmount","getItemCount","value","cart","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","useCart","_s2","context","Error","$RefreshReg$"],"sources":["C:/Users/arvin/Desktop/foody-zone/src/context/CartContext.jsx"],"sourcesContent":["import React, { createContext, useContext, useReducer, useCallback } from 'react';\r\nimport { useLocalStorage } from '../hooks/useLocalStorage';\r\n\r\nconst CartContext = createContext();\r\n\r\nconst cartReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'ADD_TO_CART':\r\n      const existingItem = state.items.find(item => item.id === action.payload.id);\r\n      if (existingItem) {\r\n        return {\r\n          ...state,\r\n          items: state.items.map(item =>\r\n            item.id === action.payload.id\r\n              ? { ...item, quantity: item.quantity + 1 }\r\n              : item\r\n          )\r\n        };\r\n      }\r\n      return {\r\n        ...state,\r\n        items: [...state.items, { ...action.payload, quantity: 1 }]\r\n      };\r\n    \r\n    case 'REMOVE_FROM_CART':\r\n      return {\r\n        ...state,\r\n        items: state.items.filter(item => item.id !== action.payload)\r\n      };\r\n    \r\n    case 'UPDATE_QUANTITY':\r\n      return {\r\n        ...state,\r\n        items: state.items.map(item =>\r\n          item.id === action.payload.id\r\n            ? { ...item, quantity: action.payload.quantity }\r\n            : item\r\n        )\r\n      };\r\n    \r\n    case 'CLEAR_CART':\r\n      return {\r\n        ...state,\r\n        items: []\r\n      };\r\n    \r\n    case 'APPLY_DISCOUNT':\r\n      return {\r\n        ...state,\r\n        discount: action.payload\r\n      };\r\n    \r\n    case 'ADD_ORDER':\r\n      return {\r\n        ...state,\r\n        orders: [action.payload, ...state.orders],\r\n        items: []\r\n      };\r\n    \r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const CartProvider = ({ children }) => {\r\n  const [cartState, dispatch] = useReducer(cartReducer, {\r\n    items: [],\r\n    orders: [],\r\n    discount: 0\r\n  });\r\n\r\n  const { setItem, getItem } = useLocalStorage();\r\n\r\n  // Persist cart to localStorage\r\n  React.useEffect(() => {\r\n    setItem('cart', cartState.items);\r\n    setItem('orders', cartState.orders);\r\n  }, [cartState.items, cartState.orders, setItem]);\r\n\r\n  const addToCart = useCallback((item) => {\r\n    dispatch({ type: 'ADD_TO_CART', payload: item });\r\n  }, []);\r\n\r\n  const removeFromCart = useCallback((id) => {\r\n    dispatch({ type: 'REMOVE_FROM_CART', payload: id });\r\n  }, []);\r\n\r\n  const updateQuantity = useCallback((id, quantity) => {\r\n    if (quantity < 1) {\r\n      removeFromCart(id);\r\n      return;\r\n    }\r\n    dispatch({ type: 'UPDATE_QUANTITY', payload: { id, quantity } });\r\n  }, [removeFromCart]);\r\n\r\n  const clearCart = useCallback(() => {\r\n    dispatch({ type: 'CLEAR_CART' });\r\n  }, []);\r\n\r\n  const applyDiscount = useCallback((discount) => {\r\n    dispatch({ type: 'APPLY_DISCOUNT', payload: discount });\r\n  }, []);\r\n\r\n  const addOrder = useCallback((order) => {\r\n    dispatch({ type: 'ADD_ORDER', payload: order });\r\n  }, []);\r\n\r\n  const getSubtotal = useCallback(() => {\r\n    return cartState.items.reduce((total, item) => \r\n      total + (item.finalPrice * item.quantity), 0);\r\n  }, [cartState.items]);\r\n\r\n  const getTotal = useCallback(() => {\r\n    const subtotal = getSubtotal();\r\n    const discountAmount = (subtotal * cartState.discount) / 100;\r\n    return subtotal - discountAmount;\r\n  }, [getSubtotal, cartState.discount]);\r\n\r\n  const getItemCount = useCallback(() => {\r\n    return cartState.items.reduce((total, item) => total + item.quantity, 0);\r\n  }, [cartState.items]);\r\n\r\n  const value = {\r\n    cart: cartState.items,\r\n    orders: cartState.orders,\r\n    discount: cartState.discount,\r\n    addToCart,\r\n    removeFromCart,\r\n    updateQuantity,\r\n    clearCart,\r\n    applyDiscount,\r\n    addOrder,\r\n    getSubtotal,\r\n    getTotal,\r\n    getItemCount\r\n  };\r\n\r\n  return (\r\n    <CartContext.Provider value={value}>\r\n      {children}\r\n    </CartContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useCart = () => {\r\n  const context = useContext(CartContext);\r\n  if (!context) {\r\n    throw new Error('useCart must be used within a CartProvider');\r\n  }\r\n  return context;\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}